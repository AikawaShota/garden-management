{% extends 'base.html' %} {% block content %}

<section class="px-6 pt-6 pb-3">
    <h1 class="title is-3">ユーザー登録フォーム</h1>
    <p class="has-text-danger is-size-7">※全項目必須です。</p>
</section>

<form method="POST">
    <div class="content px-6">{% csrf_token %} {{ form.non_field_errors }}</div>
    <section class="px-6 pb-6">
        <h2 class="title is-4">認証情報</h2>
        <div class="field mb-5">
            <label for="" class="label">メールアドレス</label>
            <div class="control has-icons-left">
                {{ form.email }}
                <span class="icon is-small is-left">
                    <i class="fas fa-envelope"></i>
                </span>
            </div>
            <p class="help">既に登録してあるメールアドレスは利用できません。</p>
            <ul>
                {% for error in form.email.errors %}
                <li class="has-text-danger is-size-7">・{{ error }}</li>
                {% endfor %}
            </ul>
        </div>

        <div class="field">
            <label for="" class="label">パスワード</label>
            <div class="control has-icons-left has-icons-right">
                {{ form.password1 }}
                <span class="icon is-small is-left">
                    <i class="fas fa-lock"></i>
                </span>
                <span class="icon is-small is-right">
                    <i
                        class="fas fa-eye-slash"
                        id="buttonEye1"
                        onclick="pushShowButton1()"
                    ></i>
                </span>
            </div>
            <ul>
                {% for error in form.password1.errors %}
                <li class="has-text-danger is-size-7">・{{ error }}</li>
                {% endfor %}
            </ul>
        </div>

        <div class="field">
            <label for="" class="label">パスワード（確認）</label>
            <div class="control has-icons-left has-icons-right">
                {{ form.password2 }}
                <span class="icon is-small is-left">
                    <i class="fas fa-lock"></i>
                </span>
                <span class="icon is-small is-right">
                    <i
                        class="fas fa-eye-slash"
                        id="buttonEye2"
                        onclick="pushShowButton2()"
                    ></i>
                </span>
            </div>
            <p class="help">
                パスワードは8文字以上である必要があります。半角英数記号から2種類以上組み合わせてください。
            </p>
            <ul>
                {% for error in form.password2.errors %}
                <li class="has-text-danger is-size-7">・{{ error }}</li>
                {% endfor %}
            </ul>
        </div>
    </section>
    <section class="px-6 pb-6">
        <h3 class="title is-4">個人情報</h3>
        <div class="field">
            <label for="" class="label">姓</label>
            <div class="control has-icons-left">
                {{ form.last_name }}
                <span class="icon is-small is-left">
                    <i class="fas fa-signature"></i>
                </span>
            </div>
            <ul>
                {% for error in form.last_name.errors %}
                <li class="has-text-danger is-size-7">・{{ last_name }}</li>
                {% endfor %}
            </ul>
        </div>

        <div class="field mb-5">
            <label for="" class="label">名</label>
            <div class="control has-icons-left">
                {{ form.first_name }}
                <span class="icon is-small is-left">
                    <i class="fas fa-signature"></i>
                </span>
            </div>
            <ul>
                {% for error in form.first_name.errors %}
                <li class="has-text-danger is-size-7">・{{ error }}</li>
                {% endfor %}
            </ul>
        </div>

        <div class="field">
            <label for="" class="label">所属</label>
            <div class="control has-icons-left">
                <div class="select">{{ form.department }}</div>
                <div class="icon is-small is-left">
                    <i class="fas fa-city"></i>
                </div>
            </div>
            <ul>
                {% for error in form.department.errors %}
                <li class="has-text-danger is-size-7">・{{ error }}</li>
                {% endfor %}
            </ul>
        </div>
    </section>
    <section class="px-6 pb-6">
        <div class="field is-grouped">
            <div class="control">
                <button type="submit" class="button is-info is-outlined">
                    登録
                </button>
            </div>
            <div class="control">
                <button class="button is-outlined">戻る</button>
            </div>
        </div>
    </section>
</form>

{% endblock %} {% block scripts %}
<script>
    function pushShowButton1() {
        var txtPass = document.getElementById("id_password1");
        var btnEye = document.getElementById("buttonEye1");
        if (txtPass.type === "text") {
            txtPass.type = "password";
            btnEye.className = "fa fa-eye-slash";
        } else {
            txtPass.type = "text";
            btnEye.className = "fa fa-eye";
        }
    }
    function pushShowButton2() {
        var txtPass = document.getElementById("id_password2");
        var btnEye = document.getElementById("buttonEye2");
        if (txtPass.type === "text") {
            txtPass.type = "password";
            btnEye.className = "fa fa-eye-slash";
        } else {
            txtPass.type = "text";
            btnEye.className = "fa fa-eye";
        }
    }
</script>
{% endblock %}
